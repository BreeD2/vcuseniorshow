<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VCU Senior Show Form</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico"/>
    <link rel="apple-touch-icon" sizes="76x76" href="favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
  <link rel="manifest" href="favicon/site.webmanifest">
  <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <center>

</head>
<body>
  <style>
      /* Style for the header */
      h1 {
        color: #59caec; /* Change to your preferred color */
        font-family: Arial, sans-serif; /* Arial font */
        text-align: center; /* Center-align the text */
        margin-top: 60px; /* Add some space below the header */
      }

      /* Style for the form */
      #imageForm {
        display: flex;
        flex-direction: column;
        align-items: center; /* Center-align form items */
        gap: 10px; /* Add space between form items */
        margin: 0 auto; /* Center the form in the page */
        width: 400px; /* Set form width */
        font-family: Arial, sans-serif; /* Arial font */
      }

      /* Style for input fields and textarea */
      #imageForm input[type="text"],
      #imageForm input[type="url"],
      #imageForm textarea {
        width: 100%; /* Make fields take full width of the form */
        padding: 10px; /* Add some padding inside */
        border: 1px solid #ffc60a; /* Custom border color */
        border-radius: 5px; /* Rounded corners */
        margin-top: 10px; /* Add space above each field */
        font-family: Arial, sans-serif; /* Arial font */
      }

      /* Style for the submit button */
      #imageForm input[type="submit"] {
        background-color: #ed2087; /* Custom background color */
        color: white; /* White text */
        padding: 10px 20px; /* Padding inside the button */
        border: none; /* Remove border */
        border-radius: 5px; /* Rounded corners */
        cursor: pointer; /* Change cursor to pointer when hovering */
        margin-top: 20px; /* Add space above the button */
        font-family: Arial, sans-serif; /* Arial font */
      }

      /* Change background and text color of the submit button on hover */
      #imageForm input[type="submit"]:hover {
        background-color: #86c546; /* Darker shade for hover state */
      }

      /* Style for the success message container */
      #successMessage {
        text-align: center; /* Center-align the text */
        margin-top: 20px; /* Add space above the message */
        font-family: Arial, sans-serif; /* Arial font */
      }

      /* Style for the success message link */
      #successMessage a {
        color: #59caec; /* Match the header color or choose another */
        text-decoration: none; /* Remove underline */
      }

      /* Change color of the link on hover */
      #successMessage a:hover {
        color: #ed2087; /* Use a color that matches the submit button or choose another */
      }
  </style>


  <h1>Image Submission Form</h1>
  <form id="imageForm">
    <input type="text" id="imageTitle" name="imageTitle" placeholder="Your Name">
      <input type="url" id="imageUrl" name="imageUrl" placeholder="Enter Image URL">
      <textarea id="imageDescription" name="imageDescription" placeholder="Enter Image Description"></textarea>
      <input type="submit" value="Submit Image">
  </form>
  <!-- Success Message Container -->
<div id="successMessage" style="display:none;">
    <p>Your image has been successfully submitted. You can view and edit your submission on Are.na:</p>
    <!-- Link to the Are.na channel -->
    <a href="https://www.are.na/bree-d-5s66pyu4cqo/vcu-senior-show-2024" target="_blank">VCU Senior Show 2024 Channel</a>
</div>


  <script>
  document.getElementById('imageForm').addEventListener('submit', async (e) => {
    e.preventDefault();

    // Gather form data
    const imageTitle = document.getElementById('imageTitle').value;
    const imageUrl = document.getElementById('imageUrl').value;
    const imageDescription = document.getElementById('imageDescription').value;

    // Prepare the request payload
    const payload = JSON.stringify({ imageTitle, imageUrl, imageDescription });

    // Perform the fetch request
    const response = await fetch('/.netlify/functions/submit-to-arena', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: payload
    });

    // Check if the submission was successful
    if (response.ok) {
        // Display the success message and link
        document.getElementById('successMessage').style.display = 'block';
        // Optionally, hide the form
        // document.getElementById('imageForm').style.display = 'none';
        alert("Image submitted successfully. Check the Are.na channel for your submission.");
    } else {
        // Handle submission error
        alert("Failed to submit image. Please try again.");
    }
});

</script>


</body>
</html>
