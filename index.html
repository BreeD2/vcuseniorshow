<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VCU Senior Show Form</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico"/>
    <link rel="apple-touch-icon" sizes="76x76" href="favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
  <link rel="manifest" href="favicon/site.webmanifest">
  <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <center>

</head>
<body>
  <style>

    /* Style for the header */
    h1 {
      color: #59caec; /* Dark gray color */
      font-family: Arial, sans-serif; /* Arial font */
      text-align: center; /* Center-align the text */
      margin-top: 60px; /* Add some space below the header */
    }

    /* Style for the form */
    #imageForm {
      display: flex;
      flex-direction: column;
      align-items: center; /* Center-align form items */
      gap: 10px; /* Add space between form items */
      margin: 0 auto; /* Center the form in the page */
      width: 400px; /* Set form width */;
      font-family: Arial, sans-serif; /* Arial font */
    }

    /* Style for input fields and textarea */
    #imageForm input[type="text"],
    #imageForm input[type="url"],
    #imageForm textarea {
      width: 100%; /* Make fields take full width of the form */
      padding: 10px; /* Add some padding inside */
      border: 1px solid #ffc60a; /* Light gray border */
      border-radius: 5px; /* Rounded corners */
      margin-top: 10px; /* Add space above each field */;
      font-family: Arial, sans-serif; /* Arial font */
    }

    /* Style for submit button */
    #imageForm input[type="submit"] {
      background-color: #ed2087; /* Blue background */
      color: white; /* White text */
      padding: 10px 20px; /* Padding inside the button */
      border: none; /* Remove border */
      border-radius: 5px; /* Rounded corners */
      cursor: pointer; /* Change cursor to pointer when hovering */
      margin-top: 20px; /* Add space above the button */;
      font-family: Arial, sans-serif; /* Arial font */
    }

    /* Change background and text color of submit button on hover */
    #imageForm input[type="submit"]:hover {
      background-color: #86c546; /* Darker blue on hover */
    }
  </style>

  <h1>Image Submission Form</h1>
  <form id="imageForm">
    <input type="text" id="imageTitle" name="imageTitle" placeholder="Your Name">
      <input type="url" id="imageUrl" name="imageUrl" placeholder="Enter Image URL">
      <textarea id="imageDescription" name="imageDescription" placeholder="Enter Image Description"></textarea>
      <input type="submit" value="Submit Image">
  </form>


  <script>
  document.getElementById('imageForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const imageTitle = document.getElementById('imageTitle').value;
    const imageUrl = document.getElementById('imageUrl').value;
    const imageDescription = document.getElementById('imageDescription').value;

    const response = await fetch('/.netlify/functions/submit-to-arena', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ imageTitle, imageUrl, imageDescription })
    });

    if (response.ok) {
        // Ask the user if they want to be redirected
        if(confirm("Image submitted successfully. Would you like to view it on Are.na?")) {
            window.location.href = "https://www.are.na/bree-d-5s66pyu4cqo/vcu-senior-show-2024"; // Redirect to Are.na channel page
        } else {
            // Do nothing, stay on the current page
        }
    } else {
        alert("Failed to submit image.");
    }
  });
</script>


</body>
</html>
